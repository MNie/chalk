<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>MNie | How to configure Your open source project on github with FAKE</title>
  <meta name="description" content="When we contribute to some open source project or contribute to one. We often hit a problem of CI/CD. We gonna take a look how to achieve this thanks to FAKE and Travis.">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta property="og:title" content="How to configure Your open source project on github with FAKE">
  <meta property="og:type" content="website">
  <meta property="og:url" content="http://mnie.me/configuregithubprojectwithfake">
  <meta property="og:description" content="When we contribute to some open source project or contribute to one. We often hit a problem of CI/CD. We gonna take a look how to achieve this thanks to FAKE and Travis.">
  <meta property="og:site_name" content="MNie">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:url" content="http://mnie.me/configuregithubprojectwithfake">
  <meta name="twitter:title" content="How to configure Your open source project on github with FAKE">
  <meta name="twitter:description" content="When we contribute to some open source project or contribute to one. We often hit a problem of CI/CD. We gonna take a look how to achieve this thanks to FAKE and Travis.">

  
    
      <meta property="og:image" content="http://mnie.me/assets/documentation/sample-image-0a264584b152aa8d86f61525d05ae1131787d0a1029aa1cb7e3e4148b5d34755.jpg">
      <meta name="twitter:image" content="http://mnie.me/assets/documentation/sample-image-0a264584b152aa8d86f61525d05ae1131787d0a1029aa1cb7e3e4148b5d34755.jpg">
    
  

  <link href="http://mnie.me/feed.xml" type="application/rss+xml" rel="alternate" title="MNie Last 10 blog posts" />

  

  

    
      <link rel="icon" type="image/x-icon" href="/assets/favicon-dark-8d94e1b2ced7d843d882416da48ad6b7a0386071412905b6048dbe8205e32559.ico">
      <link rel="apple-touch-icon" href="/assets/apple-touch-icon-dark-03c296a876e33d932966817b36fde1212bdb044fb0585145cde98ac98da59715.png">
      <link rel="stylesheet" type="text/css" href="/assets/dark-52a5e7e150abd939a150d09a93ec31ffd219b9e01c09465a899f36f3654beef1.css">
    

  

</head>

<body>
  <main>
    <div class="grid grid-centered">
      <div class="grid-cell">
        <nav class="header-nav scrollappear">
  <a href="/" class="header-logo" title="MNie">MNie</a>
  <ul class="header-links">
    
      <li>
        <a href="/about" title="About me">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon-about">
  <use href="/assets/about-ecf154b571ab8034ae00aeed91a3b7ad68db80b46d958753ad6216c919486e88.svg#icon-about" xlink:href="/assets/about-ecf154b571ab8034ae00aeed91a3b7ad68db80b46d958753ad6216c919486e88.svg#icon-about"></use>
</svg>

        </a>
      </li>
    
    
      <li>
        <a href="https://twitter.com/mnie8" rel="noreferrer noopener" target="_blank" title="Twitter">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon-twitter">
  <use href="/assets/twitter-8842c33965263ad1b03a978406826677a668f94125d5837e70ab83f24b3213a7.svg#icon-twitter" xlink:href="/assets/twitter-8842c33965263ad1b03a978406826677a668f94125d5837e70ab83f24b3213a7.svg#icon-twitter"></use>
</svg>

        </a>
      </li>
    
    
    
    
      <li>
        <a href="https://github.com/mnie" rel="noreferrer noopener" target="_blank" title="GitHub">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon-github">
  <use href="/assets/github-094f81040819f34343ee6ffff0980f17e2807b08b595eaaf66ae3554934fd78d.svg#icon-github" xlink:href="/assets/github-094f81040819f34343ee6ffff0980f17e2807b08b595eaaf66ae3554934fd78d.svg#icon-github"></use>
</svg>

        </a>
      </li>
    
    
    
    
      <li>
        <a href="https://stackoverflow.com/users/2947860" rel="noreferrer noopener" target="_blank" title="Stack Overflow">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon-stackoverflow">
  <use href="/assets/stackoverflow-12ba59133ed134d26156d30f095e0222b6039395cf26f2fab0cb6ce3ef2db00d.svg#icon-stackoverflow" xlink:href="/assets/stackoverflow-12ba59133ed134d26156d30f095e0222b6039395cf26f2fab0cb6ce3ef2db00d.svg#icon-stackoverflow"></use>
</svg>

        </a>
      </li>
    
    
    
    
      <li>
        <a href="https://www.linkedin.com/in/michał-niegrzybowski" rel="noreferrer noopener" target="_blank" title="LinkedIn">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon-linkedin">
  <use href="/assets/linkedin-cdc5c107044324a3dfbea2e9ead15873f8dee304c37d73a046988956b706256e.svg#icon-linkedin" xlink:href="/assets/linkedin-cdc5c107044324a3dfbea2e9ead15873f8dee304c37d73a046988956b706256e.svg#icon-linkedin"></use>
</svg>

        </a>
      </li>
    
    
    
    
    
    
    
    
    
    
    
    
    
      <li>
        <a href="mailto:michal.niegrzybowski@gmail.com" title="Email">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon-email">
  <use href="/assets/email-782473193bf750036fdb90e8daa075508a20509d01854c09f3237c144a3f0601.svg#icon-email" xlink:href="/assets/email-782473193bf750036fdb90e8daa075508a20509d01854c09f3237c144a3f0601.svg#icon-email"></use>
</svg>

        </a>
      </li>
    
    
      <li>
        <a href="/feed.xml" rel="noreferrer noopener" target="_blank" title="RSS">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon-rss">
  <use href="/assets/rss-541ec5cea9cefd10d2fcfec01888f3f231a8829940249835fa7b7b3a12ae0d0d.svg#icon-rss" xlink:href="/assets/rss-541ec5cea9cefd10d2fcfec01888f3f231a8829940249835fa7b7b3a12ae0d0d.svg#icon-rss"></use>
</svg>

        </a>
      </li>
    
    
  </ul>
</nav>



        <article class="article scrollappear">
          <header class="article-header">
            <h1>How to configure Your open source project on github with FAKE</h1>
            <p>When we contribute to some open source project or contribute to one. We often hit a problem of CI/CD. We gonna take a look how to achieve this thanks to FAKE and Travis.</p>
            <div class="article-list-footer">
  <span class="article-list-date">
    November 15, 2016
  </span>
  <span class="article-list-divider">-</span>
  <span class="article-list-minutes">
    
    
      4 minute read
    
  </span>
  <span class="article-list-divider">-</span>
  <div class="article-list-tags">
    
      
      <a href="/tag/fsharp" title="See all posts with tag 'F#'">F#</a>
    
      
      <a href="/tag/fake" title="See all posts with tag 'Fake'">Fake</a>
    
      
      <a href="/tag/github" title="See all posts with tag 'GitHub'">GitHub</a>
    
      
      <a href="/tag/opensource" title="See all posts with tag 'Open Source'">Open Source</a>
    
      
      <a href="/tag/ci" title="See all posts with tag 'Continous Integration'">Continous Integration</a>
    
      
      <a href="/tag/cd" title="See all posts with tag 'Continous Delivery'">Continous Delivery</a>
    
  </div>
</div>
          </header>

          <div class="article-content">
            <p>Hey,</p>

<p>we often create/contribute to the open-source projects. There comes a time that we want to boast our project, or to “give” project to a “community”, to help us in its implementation.
In further improving and developing it.
What to do in such a case? Where to make the project so that others could contribute to it? The answer to this question in 99% of cases will be a “github”.
We create repository on a github, we put our code there, the community start contributing. But with the time going.. Do we want everyone to have the opportunity to throw something into the main “branch”?
Probably not. We “apply” in this case, pull requests, but how do we know that the code that someone is trying to checkin definitely works?
How do we know that we keep continous integration?
And that’s where comes to us travis, which is a free CI for github projects and FAKE, so that we can provide the “continous integration” of our project.
Great!
But where to start, what and how to write?
As I said, assume that we had repository in github right now, we login to travis-ci.org using our github account.
In the settings (travis-ci.org/profile/{yourName}), we switch the “switch” button telling us that we want our project to be “turned on” in Travis.</p>

<p><img src="https://mnie.github.com/img/20161115githubtravisfake/switch.png" alt="switch" /></p>

<p>Okay, “we turned on” our project in Travis.
But what does that do? I do not see the project suddenly began to build.
What we have to do? You must add an empty file named: .travis.yaml, to the root of your repository.
For now, we want to only build the project. What we have to write in the previously added file (.travis.yml)?</p>

<script src="https://gist.github.com/MNie/23c07ebecc776acf52f84f352c1c1d68.js"></script>

<p>So going throught of each parameters, the language is defined as csharp, for projects written in C#/F#/VB.
Solution is a sln file. In step install travis perform operations associated with preparing everything for building/releasing tests, etc. In our case, we restore nuget packages for our project.
In step script, travis fired all kind of scripts, and in our case it is the command for building a project in the release configuration.
Well we have a building script right now, but where is the FAKE which is mentioned in the title?
Well, we come to the final version of the Travis (yml) script, which will be running another script (FAKE script).
Which will have the task to build the project and then run all tests.
File .travis.yml looks at this point like this:</p>

<script src="https://gist.github.com/MNie/a05fbd2a223681a465110157a6789d37.js"></script>

<p>As we can see, there are some changes in a script, in addition to nuget packages restore, we add commands to install the FAKE, which we will need to launch our script (FAKE script).
The last point is to install xunit runner package to launch project tests (in this case FsCheck specs).
Let us now turn to FAKE script.</p>

<script src="https://gist.github.com/MNie/5d9b6026d77b1f3648679d1f05c49784.js"></script>

<p>So yes, we are going from the very beginning, starting from referencing/opening libraries, which will be used.
Then, we determine where our tests are. In our case they will be located in every dlls with name test and in a folder test.
Then we set our directory to the source project directory. In the next point we define the next “step” (“targets”) of a build script.
The first is the “Clean”, which is responsible for clearing bin and temp folders.
Another “Build” is responsible for rebuilding project, if it exists.
“RunTests” while is responsible for the firing of all the tests if such tests exists.
At the end we specify order of “targets”/steps in a script, so we start from step “Clean”, then “Build” and end with “RunTests”.
At the end we “fire up” build script with the command “runtargetordefault”.
The effect of the script is shown in the picture below:</p>

<p><img src="https://mnie.github.com/img/20161115githubtravisfake/ok.png" alt="ok" /></p>

<p>Build script steps are marked in green.
Each of the steps as shown in the photo, or on the website(link) is logged nicely, so we have insight into what is currently being done, eg. How the test are fired, what package is pulled etc.
Regarding the same steps of the script that builds when something goes wrong, this step is colored red instead of green as shown in the following picture / link.</p>

<p><img src="https://mnie.github.com/img/20161115githubtravisfake/error.png" alt="error" /></p>

<p>As we can see. We build a CI solution for project in a simple and quick way, by Travis and Fake.
So you do not have to worry about whether our project “works” properly. When someone adds new features to project, or wants to add it.
In order to further expand the script and writing/firing more advanced things I recommend You to read a fantastic FAKE documentation, which is available <a href="http://fsharp.github.io/FAKE/gettingstarted.html">here</a>.</p>

<ul>
  <li><a href="https://github.com/MNie/DateSeqGenerator">repository</a>.</li>
  <li><a href="https://travis-ci.org/MNie/DateSeqGenerator/builds/174579724">green build</a>.</li>
  <li><a href="https://travis-ci.org/MNie/DateSeqGenerator/builds/174566325">red build</a>.</li>
</ul>

<p>Thank you for reading!</p>

          </div>
          <div class="article-share">
            
            
            <a href="https://twitter.com/home?status=How+to+configure+Your+open+source+project+on+github+with+FAKE%20-%20http://mnie.me/configuregithubprojectwithfake%20by%20@mnie8" title="Share on Twitter" rel="noreferrer noopener" target="_blank">
              <svg viewBox="0 0 512 512"><path d="M492 109.5c-17.4 7.7-36 12.9-55.6 15.3 20-12 35.4-31 42.6-53.6 -18.7 11.1-39.4 19.2-61.5 23.5C399.8 75.8 374.6 64 346.8 64c-53.5 0-96.8 43.4-96.8 96.9 0 7.6 0.8 15 2.5 22.1 -80.5-4-151.9-42.6-199.6-101.3 -8.3 14.3-13.1 31-13.1 48.7 0 33.6 17.2 63.3 43.2 80.7C67 210.7 52 206.3 39 199c0 0.4 0 0.8 0 1.2 0 47 33.4 86.1 77.7 95 -8.1 2.2-16.7 3.4-25.5 3.4 -6.2 0-12.3-0.6-18.2-1.8 12.3 38.5 48.1 66.5 90.5 67.3 -33.1 26-74.9 41.5-120.3 41.5 -7.8 0-15.5-0.5-23.1-1.4C62.8 432 113.7 448 168.3 448 346.6 448 444 300.3 444 172.2c0-4.2-0.1-8.4-0.3-12.5C462.6 146 479 129 492 109.5z"/></svg>
            </a>
            <a href="https://www.facebook.com/sharer/sharer.php?u=http://mnie.me/configuregithubprojectwithfake" title="Share on Facebook" rel="noreferrer noopener" target="_blank">
              <svg viewBox="0 0 512 512"><path d="M288 192v-38.1c0-17.2 3.8-25.9 30.5-25.9H352V64h-55.9c-68.5 0-91.1 31.4-91.1 85.3V192h-45v64h45v192h83V256h56.4l7.6-64H288z"/></svg>
            </a>
          </div>

          
            <div id="disqus_thread" class="article-comments"></div>
            <script src="https://chalk-1.disqus.com/embed.js" async defer></script>
            <noscript>Please enable JavaScript to view the comments.</noscript>
          
        </article>
        <footer class="footer scrollappear">
  <p>
    2020
  </p>
</footer>

      </div>
    </div>
  </main>
  
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-81299349-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-81299349-1');
  </script>


<script src="/assets/vendor-130c9c254effc51f3283620bc635851da7b99c20901216948f11ba72ee13317f.js" type="text/javascript"></script>


  <script src="/assets/webfonts-96493456d319d1bf419afdf8701552d4d486fee6afd304897d4fd81eb4e0cc0b.js" type="text/javascript"></script>



  <script src="/assets/scrollappear-e2da8ea567e418637e31266cc5302126eaa79f62a2273739086358b589a89ee6.js" type="text/javascript"></script>


<script src="/assets/application-cfde13ac81ddaf4351b2e739603e2baf688d0fcc9aba613fe62bbb1c7b037fb9.js" type="text/javascript"></script>


</body>
</html>
